<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Happy 19, Nicole! üéÄüíú</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/* ====== GLOBAL ====== */
body {
    margin: 0;
    font-family: "Poppins", Arial, sans-serif;
    background: linear-gradient(180deg, #f8e8ff, #ffffff);
    padding: 20px;
    display: flex;
    justify-content: center;
}

/* Container */
.container {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(12px);
    max-width: 600px;
    width: 100%;
    padding: 25px;
    border-radius: 22px;
    box-shadow: 0 8px 30px rgba(142, 72, 255, 0.2);
    border: 1px solid rgba(142, 72, 255, 0.2);
    animation: fadeIn 1s ease;
}

/* Title */
h1 {
    color: #6a32c8;
    margin: 0;
    font-size: 28px;
    text-align: center;
}
h2 {
    color: #6a32c8;
    margin-top: 0;
}

/* Progress Bar */
.progress {
    background: #f0d7ff;
    height: 10px;
    border-radius: 10px;
    margin: 18px 0;
    overflow: hidden;
}
.progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #c07bff, #8a37ff);
    transition: width 0.4s ease;
    border-radius: 10px;
}

/* Puzzle Card */
.card {
    background: rgba(255, 255, 255, 0.6);
    border: 1px solid rgba(150, 90, 255, 0.25);
    padding: 20px;
    border-radius: 18px;
    box-shadow: 0 4px 18px rgba(150, 90, 255, 0.1);
    animation: fadeIn 0.5s ease;
}

/* Buttons */
button {
    background: linear-gradient(135deg, #c07bff, #8a37ff);
    color: white;
    border: none;
    padding: 12px 18px;
    border-radius: 12px;
    cursor: pointer;
    font-size: 15px;
    margin: 5px 0;
    width: 100%;
    transition: 0.2s;
}
button:hover {
    transform: scale(1.03);
    box-shadow: 0 4px 12px rgba(150, 90, 255, 0.3);
}

/* Inputs */
input, textarea {
    width: 100%;
    padding: 10px;
    margin-top: 8px;
    border-radius: 12px;
    border: 1px solid #d5b8ff;
    background: #fff7ff;
    font-size: 14px;
}
textarea {
    height: 120px;
}

/* Feedback */
.feedback {
    margin-top: 12px;
    padding: 10px;
    border-radius: 12px;
    font-size: 15px;
}
.correct {
    background: #e8ffd8;
    border: 1px solid #9ee27c;
}
.wrong {
    background: #ffe6e6;
    border: 1px solid #ff9f9f;
}

.hidden { display: none; }

/* Confetti */
#confetti-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
}

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
}
</style>
</head>
<body>
<canvas id="confetti-canvas"></canvas>
<div class="container">
    <h1>üéÄ Happy 19, Nicole! üíú</h1>
    <p style="text-align:center; color:#7d4be2; margin-bottom:20px;">
        L√∂se die R√§tsel ‚Äì du musst jede Frage richtig beantworten! üé¨üíú
    </p>

    <div class="progress"><div class="progress-bar"></div></div>

    <div id="puzzleArea" class="card"></div>

    <div id="finalArea" class="hidden">
        <h2>‚ú® Geschafft, Birthday Princess! üéâ</h2>
        <p>
            Du hast alle R√§tsel korrekt gel√∂st! Als Belohnung erh√§ltst du einen
            <strong>Kinogutschein f√ºr einen Film deiner Wahl</strong>(Bitte ab n√§chster Woche :P). üíúüé¨
        </p>

    </div>
</div>

<script>
/* ========= PUZZLE DATA ========= */
const puzzles = [
    { type:"mc", q:"In welchem Jahr wurde Nicole geboren?", options:["2004","2005","2006","2007"], a:"2006" },
    { type:"text", q:"Anagramm von 'LONCEI'?", a:"nicole" },
    { type:"mc", q:"Welches Genre mag sie am ehesten?", options:["Kom√∂die","Drama","Sci-Fi","Horror"], a:"Kom√∂die" },
    { type:"text", q:"3 * 7 + 5 = ?", a:"26" },
    { type:"text", q:"R√§tsel: Ich habe St√§dte aber keine H√§user...", a:"karte" },
    { type:"text", q:"Folge: 2,4,8,16,... ?", a:"32" },
    { type:"text", q:"Film Emoji: üçøüëΩüåï ?", a:"e.t." },
    { type:"mc", q:"Das Wort 'Nicole' hat 6 Buchstaben.", options:["Wahr","Falsch"], a:"Wahr" },
    { type:"text", q:"Caesar +1: 'ojdf' ‚Üí ?", a:"pike" },
    { type:"mc", q:"Lieblingsfarbe? (geraten)", options:["Blau","Rosa","Gr√ºn","Lila"], a:"Lila"}
];

let index = 0;

function renderPuzzle() {
    const p = puzzles[index];
    const div = document.getElementById("puzzleArea");
    const progress = document.querySelector(".progress-bar");

    progress.style.width = ((index)/puzzles.length * 100) + "%";

    div.style.animation = "fadeIn 0.5s ease";
    
    div.innerHTML = `
        <h2>R√§tsel ${index+1} von ${puzzles.length}</h2>
        <p>${p.q}</p>
        <div id="options"></div>
        <div id="feedback"></div>
    `;

    if (p.type === "mc") {
        p.options.forEach(opt => {
            const btn = document.createElement("button");
            btn.textContent = opt;
            btn.onclick = () => checkAnswer(opt);
            document.getElementById("options").appendChild(btn);
        });

    } else if (p.type === "text") {
        document.getElementById("options").innerHTML = `
            <input id="answerInput" placeholder="Antwort...">
            <button onclick="submitText()">Absenden</button>
        `;
    }
}

function submitText() {
    const val = document.getElementById("answerInput").value.trim().toLowerCase();
    checkAnswer(val);
}

function checkAnswer(given) {
    const correct = puzzles[index].a.toLowerCase();
    const fb = document.getElementById("feedback");

    if (given.toLowerCase() === correct) {
        fb.className = "feedback correct";
        fb.textContent = "Richtig! üéâüíú";

        setTimeout(() => {
            index++;
            if (index >= puzzles.length) finish();
            else renderPuzzle();
        }, 1000);

    } else {
        fb.className = "feedback wrong";
        fb.textContent = "Leider falsch! Versuch es nochmal üíú";
    }
}

/* ========= CONFETTI ========= */
function finish() {
    document.getElementById("puzzleArea").classList.add("hidden");
    document.getElementById("finalArea").classList.remove("hidden");
    document.querySelector(".progress-bar").style.width = "100%";
    launchConfetti();
}

function launchConfetti() {
    const canvas = document.getElementById('confetti-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const pieces = Array.from({length: 150}, () => ({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height - canvas.height,
        w: 6 + Math.random() * 6,
        h: 8 + Math.random() * 8,
        speed: 2 + Math.random() * 4,
        color: `hsl(${Math.random()*360}, 80%, 70%)`
    }));

    function update() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        pieces.forEach(p => {
            p.y += p.speed;
            if (p.y > canvas.height) p.y = -20;
            ctx.fillStyle = p.color;
            ctx.fillRect(p.x, p.y, p.w, p.h);
        });
        requestAnimationFrame(update);
    }
    update();
}



renderPuzzle();
</script>
</body>
</html>
