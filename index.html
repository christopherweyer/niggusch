<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Happy 19, Nicole! ðŸŽ€ðŸ’œ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/* ====== GLOBAL ====== */
body {
    margin: 0;
    font-family: "Poppins", Arial, sans-serif;
    background: linear-gradient(180deg, #f8e8ff, #ffffff);
    padding: 20px;
    display: flex;
    justify-content: center;
}

.container {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(12px);
    max-width: 600px;
    width: 100%;
    padding: 25px;
    border-radius: 22px;
    box-shadow: 0 8px 30px rgba(142, 72, 255, 0.2);
    border: 1px solid rgba(142, 72, 255, 0.2);
    animation: fadeIn 1s ease;
}

h1 {
    color: #6a32c8;
    margin: 0;
    font-size: 28px;
    text-align: center;
}
h2 {
    color: #6a32c8;
    margin-top: 0;
}

.progress {
    background: #f0d7ff;
    height: 10px;
    border-radius: 10px;
    margin: 18px 0;
    overflow: hidden;
}
.progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #c07bff, #8a37ff);
    transition: width 0.4s ease;
    border-radius: 10px;
}

.card {
    background: rgba(255, 255, 255, 0.6);
    border: 1px solid rgba(150, 90, 255, 0.25);
    padding: 20px;
    border-radius: 18px;
    box-shadow: 0 4px 18px rgba(150, 90, 255, 0.1);
    animation: fadeIn 0.5s ease;
}

button {
    background: linear-gradient(135deg, #c07bff, #8a37ff);
    color: white;
    border: none;
    padding: 12px 18px;
    border-radius: 12px;
    cursor: pointer;
    font-size: 15px;
    margin: 5px 0;
    width: 100%;
    transition: 0.2s;
}
button:hover {
    transform: scale(1.03);
    box-shadow: 0 4px 12px rgba(150, 90, 255, 0.3);
}

input, textarea {
    width: 100%;
    padding: 10px;
    margin-top: 8px;
    border-radius: 12px;
    border: 1px solid #d5b8ff;
    background: #fff7ff;
    font-size: 14px;
}
textarea {
    height: 120px;
}

.feedback {
    margin-top: 12px;
    padding: 10px;
    border-radius: 12px;
    font-size: 15px;
}
.correct {
    background: #e8ffd8;
    border: 1px solid #9ee27c;
}
.wrong {
    background: #ffe6e6;
    border: 1px solid #ff9f9f;
}

.hidden { display: none; }

#confetti-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
}

.final-photo {
    width: 100%;
    border-radius: 18px;
    margin: 20px 0;
    box-shadow: 0 6px 20px rgba(142, 72, 255, 0.25);
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
}
</style>
</head>
<body>
<canvas id="confetti-canvas"></canvas>
<div class="container">
    <h1>ðŸŽ€ Happy 19, Nicole! ðŸ’œ</h1>
    <p style="text-align:center; color:#7d4be2; margin-bottom:20px;">
        LÃ¶se die RÃ¤tsel â€“ du musst jede Frage richtig beantworten! ðŸŽ¬ðŸ’œ
    </p>

    <div class="progress"><div class="progress-bar"></div></div>

    <div id="puzzleArea" class="card"></div>

    <div id="finalArea" class="hidden">
        <h2 style="text-align:center; font-size:28px;">ðŸ’œ Geschafft, Birthday Princess! ðŸŽ‰</h2>

        <p style="font-size:16px; line-height:1.6;">
            Du hast jedes RÃ¤tsel richtig beantwortet â€“ dein Big Brain hat wieder zugeschlagen! ðŸ˜¤ðŸ’œ<br>
            Als Belohnung erhÃ¤ltst du einen <strong style="color:#8a37ff;">Kinogutschein fÃ¼r einen Film deiner Wahl</strong> ðŸŽ¬âœ¨
        </p>

        <img src="IMG_20210527_145538.jpg" alt="Foto von uns beiden" class="final-photo">

        <p style="font-size:16px; line-height:1.6;">
            Ich wÃ¼nsche dir nachtrÃ¤glich alles Liebe zu deinem Geburtstag, ganz viel GlÃ¼ck, Liebe und Erfolg
            in deinem neuen Lebensjahr. Ich hab dich unglaublich lieb und bin froh, dich meine Schwester nennen zu dÃ¼rfen. ðŸ’œ
        </p>

        <p style="text-align:right; font-weight:bold; margin-top:30px; color:#6a32c8;">
            â€“ Dein Bruder
        </p>

        <audio id="loveSong" src="Nicole die FurzkoboldkÃ¶nigin.mp3"></audio>
    </div>
</div>

<script>
const puzzles = [
    { type:"mc", q:"In welchem Jahr wurde Nicole geboren?", options:["2004","2005","2006","2007"], a:"2006" },
    { type:"text", q:"Wie lautet der erste Spitzname, den Nicole von Ihrem extrem gutaussehenden und charmanten Bruder bekam?", a:"Niggusch" },
    { type:"mc", q:"Womit hat Nicole ihr erstes KÃ¶rperverletzungsdelikt begangen und kam Straffrei davon?", options:["Hammer","Schlagstock","Taser","Ukulele"], a:"Ukulele"},
    { type:"mc", q:"Wer war Nicoles erste groÃŸe Liebe?", options:["Jonas", "Umut", "Kinderschokolade", "Ein PlÃ¼schtierhund namens 'Wau-wau'"], a:"Ein PlÃ¼schtierhund namens 'Wau-wau'" },
    { type:"text", q:"RÃ¤tsel: Ich habe StÃ¤dte, aber keine HÃ¤user. Ich habe Berge, aber keine BÃ¤ume. Ich habe Wasser, aber keine Fische. Was bin ich?", a:"Karte" },
    { type:"text", q:"Wo war Nicole das erste mal mit Chris alleine im Urlaub?", a:"Amsterdam" },
    { type:"text", q:"Welches war Nicoles erstes Konzert?", a:"Schlau aber blond" },
    { type:"mc", q:"In welches lebensbedrohliche GewÃ¤sser hat Nicoles groÃŸer und heldenhafter Bruder sich gestÃ¼rzt, um das Leben ihres heiligen PlÃ¼sch-KÃ¶ters zu retten und dabei sowohl sein Leben, als auch sein magisches, fahrendes BÃ¼gelbrett riskiert?", options:["Amazonas","Nil","Niagara-WasserfÃ¤lle","Aschaff"], a:"Aschaff"},
    { type:"mc", q:"Was stiehlt Nicole ihrem Bruder regelmÃ¤ÃŸig?", options:["Geld","Essen","Ehre","Kleidung"], a:"Kleidung"},
    { type:"mc", q:"Nicole ist die FurzkoboldkÃ¶nigin", options:["Wahr","Falsch"], a:"Wahr" }

];

let index = 0;

/* ================= RENDER FUNCTION ================ */

function renderPuzzle() {
    const p = puzzles[index];
    const div = document.getElementById("puzzleArea");
    const progress = document.querySelector(".progress-bar");

    progress.style.width = ((index)/puzzles.length * 100) + "%";

    div.innerHTML = `
        <h2>RÃ¤tsel ${index+1} von ${puzzles.length}</h2>
        <p>${p.q}</p>
        <div id="options"></div>
        <div id="feedback"></div>
    `;

    if (p.type === "mc") {
        p.options.forEach(opt => {
            const btn = document.createElement("button");
            btn.textContent = opt;
            btn.onclick = () => checkAnswer(opt);
            document.getElementById("options").appendChild(btn);
        });

    } else {
        document.getElementById("options").innerHTML = `
            <input id="answerInput" placeholder="Antwort...">
            <button onclick="submitText()">Absenden</button>
        `;
    }
}

/* ================= ANSWER CHECK ================= */

function submitText() {
    const val = document.getElementById("answerInput").value.trim().toLowerCase();
    checkAnswer(val);
}

function checkAnswer(userAnswer) {
    const p = puzzles[index];

    const correct = p.a.trim().toLowerCase();
    const answer = userAnswer.trim().toLowerCase();

    const feedback = document.getElementById("feedback");

    if (answer === correct) {
        feedback.className = "feedback correct";
        feedback.textContent = "Richtig! ðŸ’œ";

        setTimeout(() => {
            index++;
            if (index >= puzzles.length) {
                finish();
            } else {
                renderPuzzle();
            }
        }, 800);

    } else {
        feedback.className = "feedback wrong";
        feedback.textContent = "Leider falsch ðŸ˜¢ Versuchs nochmal!";
    }
}


/* =============== ENDING SCREEN ================= */

function finish() {
    document.querySelector(".progress-bar").style.width = "100%";
    document.getElementById("puzzleArea").classList.add("hidden");

    const final = document.getElementById("finalArea");
    final.classList.remove("hidden");

    // Musik abspielen
    const song = document.getElementById("loveSong");
    song.volume = 0.5;
    song.play();

    // Konfetti starten
    startConfetti();
}

/* ================= CONFETTI ================= */

function startConfetti() {
    const canvas = document.getElementById("confetti-canvas");
    const ctx = canvas.getContext("2d");

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const confetti = [];
    const count = 250;

    for (let i = 0; i < count; i++) {
        confetti.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height - canvas.height,
            r: Math.random() * 6 + 2,
            d: Math.random() * count,
            color: `hsl(${Math.random()*360}, 80%, 70%)`,
            tilt: Math.random() * 5
        });
    }

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        confetti.forEach((c, i) => {
            ctx.beginPath();
            ctx.fillStyle = c.color;
            ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2);
            ctx.fill();
        });

        update();
        requestAnimationFrame(draw);
    }

    function update() {
        confetti.forEach(c => {
            c.y += Math.cos(c.d) + 1 + c.r / 2;
            c.x += Math.sin(c.d);

            if (c.y > canvas.height) {
                c.y = -10;
                c.x = Math.random() * canvas.width;
            }
        });
    }

    draw();
}

/* =========================================== */

renderPuzzle();
</script>
</body>
</html>
