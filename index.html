<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Happy 19, Nicole! ðŸŽ€ðŸ’œ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/* ====== GLOBAL ====== */
body {
    margin: 0;
    font-family: "Poppins", Arial, sans-serif;
    background: linear-gradient(180deg, #f8e8ff, #ffffff);
    padding: 20px;
    display: flex;
    justify-content: center;
    min-height: 100vh;
    overflow: hidden;
}

/* Container */
.container {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(12px);
    max-width: 600px;
    width: 100%;
    padding: 30px;
    border-radius: 22px;
    box-shadow: 0 8px 30px rgba(142, 72, 255, 0.2);
    border: 1px solid rgba(142, 72, 255, 0.2);
    text-align: center;
    animation: fadeIn 1s ease;
}

/* Startseite */
#startScreen {
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: 80vh;
}
#startScreen h1 {
    font-size: 36px;
    color: #6a32c8;
    margin-bottom: 20px;
}
#startScreen p {
    font-size: 18px;
    color: #7d4be2;
    margin: 20px 0 40px;
    line-height: 1.7;
}
#startButton {
    background: linear-gradient(135deg, #ff6bff, #8a37ff);
    color: white;
    border: none;
    padding: 18px 40px;
    border-radius: 50px;
    cursor: pointer;
    font-size: 22px;
    font-weight: bold;
    box-shadow: 0 8px 20px rgba(142, 72, 255, 0.4);
    transition: all 0.3s;
}
#startButton:hover {
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 15px 30px rgba(142, 72, 255, 0.5);
}

/* Rest bleibt gleich */
h1, h2 { color: #6a32c8; }
.progress { background: #f0d7ff; height: 10px; border-radius: 10px; margin: 18px 0; overflow: hidden; }
.progress-bar { height: 100%; width: 0%; background: linear-gradient(90deg, #c07bff, #8a37ff); transition: width 0.4s ease; border-radius: 10px; }
.card { background: rgba(255,255,255,0.6); border: 1px solid rgba(150,90,255,0.25); padding: 20px; border-radius: 18px; box-shadow: 0 4px 18px rgba(150,90,255,0.1); animation: fadeIn 0.5s; }
button { background: linear-gradient(135deg, #c07bff, #8a37ff); color: white; border: none; padding: 12px 18px; border-radius: 12px; cursor: pointer; font-size: 15px; margin: 5px 0; width: 100%; transition: 0.2s; }
button:hover { transform: scale(1.03); box-shadow: 0 4px 12px rgba(150,90,255,0.3); }
input { width: 100%; padding: 10px; margin-top: 8px; border-radius: 12px; border: 1px solid #d5b8ff; background: #fff7ff; font-size: 14px; }
.feedback { margin-top: 12px; padding: 10px; border-radius: 12px; font-size: 15px; }
.correct { background: #e8ffd8; border: 1px solid #9ee27c; }
.wrong { background: #ffe6e6; border: 1px solid #ff9f9f; }
.hidden { display: none; }

#confetti-canvas { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 9999; }

#finalArea img {
    width: 100%;
    max-width: 420px;
    border-radius: 20px;
    margin: 20px auto;
    display: block;
    box-shadow: 0 8px 25px rgba(142, 72, 255, 0.3);
    border: 4px solid #e8d0ff;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(15px); }
    to   { opacity: 1; transform: translateY(0); }
}
</style>
</head>
<body>
<canvas id="confetti-canvas"></canvas>

<div class="container">

    <!-- ========= STARTSEITE ========= -->
    <div id="startScreen">
        <h1>ðŸŽ€ Happy 19, Schwesterherz! ðŸ’œ</h1>
        <p>
            Hallo du kleine FurzkoboldkÃ¶nigin,<br>
            heute ist dein Tag â€“ und ich hab dir was ganz Besonderes gebastelt!<br><br>
            Es gibt 10 extrem schwere RÃ¤tsel (haha), die nur die wahre Nicole lÃ¶sen kann.<br>
            Wenn du alle schaffst, wartet eine Ãœberraschung + ein Kinogutschein auf dich! ðŸŽ¬âœ¨
        </p>
        <button id="startButton">STARTEN (und Musik an!)</button>
    </div>

    <!-- ========= DAS EIGENTLICHE QUIZ ========= -->
    <div id="quizArea" class="hidden">
        <h1>ðŸŽ€ Happy 19, Nicole! ðŸ’œ</h1>
        <p style="color:#7d4be2; margin-bottom:20px;">
            LÃ¶se die RÃ¤tsel â€“ du musst jede Frage richtig beantworten! ðŸŽ¬ðŸ’œ
        </p>

        <div class="progress"><div class="progress-bar"></div></div>
        <div id="puzzleArea" class="card"></div>

        <div id="finalArea" class="hidden">
            <h2>âœ¨ Geschafft, Birthday Princess! ðŸŽ‰</h2>
            <img src="HansUndFranz.jpg" alt="Wir beide ðŸ’œ">
            <p>
                Dein Big-Brain hat es geschafft! Wer hÃ¤tte das denn erwartet?!<br>
                Als Belohnung gibtâ€™s einen <strong>Kinogutschein fÃ¼r einen Film deiner Wahl</strong> ðŸ’œðŸŽ¬
            </p>
            <p>
                Ich wÃ¼nsche Dir nachtrÃ¤glich nochmal alles Liebe zu deinem Geburtstag, viel GlÃ¼ck, Liebe und Erfolg im neuen Lebensjahr.<br>
                Ich hab Dich ganz doll lieb und bin so froh, Dich meine Schwester nennen zu dÃ¼rfen. Ohne Dich wÃ¤re alles viiiiel langweiliger und farbloser. ðŸ’œ
            </p>
            <p><strong>LG Dein Bruder</strong></p>
        </div>
    </div>
</div>

<audio id="birthdaySong" src="NicoleDieFurzkoboldkÃ¶nigin.mp3" preload="auto" loop></audio>

<script>
// Musik + Start
const audio = document.getElementById("birthdaySong");
document.getElementById("startButton").addEventListener("click", () => {
    document.getElementById("startScreen").classList.add("hidden");
    document.getElementById("quizArea").classList.remove("hidden");
    
    // Musik starten (jetzt erlaubt, weil User geklickt hat)
    audio.volume = 0.6;
    audio.play();
    
    renderPuzzle();
});

// ========== QUIZ-LOGIK (wie vorher) ==========
const puzzles = [ /* genau der gleiche Array wie vorher â€“ hier nur kurz */ 
    { type:"mc", q:"In welchem Jahr wurde Nicole geboren?", options:["2004","2005","2006","2007"], a:"2006" },
    { type:"text", q:"Wie lautet der erste Spitzname, den Nicole von Ihrem extrem gutaussehenden und charmanten Bruder bekam?", a:"Niggusch" },
    { type:"mc", q:"Womit hat Nicole ihr erstes KÃ¶rperverletzungsdelikt begangen und kam Straffrei davon?", options:["Hammer","Schlagstock","Taser","Ukulele"], a:"Ukulele" },
    { type:"mc", q:"Wer war Nicoles erste groÃŸe Liebe?", options:["Jonas", "Umut", "Kinderschokolade", "Ein PlÃ¼schtierhund namens 'Wau-wau'"], a:"Ein PlÃ¼schtierhund namens 'Wau-wau'" },
    { type:"text", q:"RÃ¤tsel: Ich habe StÃ¤dte, aber keine HÃ¤user. Ich habe Berge, aber keine BÃ¤ume. Ich habe Wasser, aber keine Fische. Was bin ich?", a:"Karte" },
    { type:"text", q:"Wo war Nicole das erste mal mit Chris alleine im Urlaub?", a:"Amsterdam" },
    { type:"text", q:"Welches war Nicoles erstes Konzert?", a:"Schlau aber blond" },
    { type:"mc", q:"In welches lebensbedrohliche GewÃ¤sser hat Nicoles groÃŸer und heldenhafter Bruder sich gestÃ¼rzt, um das Leben ihres heiligen PlÃ¼sch-KÃ¶ters zu retten?", options:["Amazonas","Nil","Niagara-WasserfÃ¤lle","Aschaff"], a:"Aschaff"},
    { type:"mc", q:"Was stiehlt Nicole ihrem Bruder regelmÃ¤ÃŸig?", options:["Geld","Essen","Ehre","Kleidung"], a:"Kleidung"},
    { type:"mc", q:"Nicole ist die FurzkoboldkÃ¶nigin", options:["Wahr","Falsch"], a:"Wahr" }
];

let index = 0;

function renderPuzzle() { /* genau wie vorher â€“ ich kÃ¼rze hier nur, du kannst den kompletten Block aus deiner alten Version kopieren */ 
    const p = puzzles[index];
    const div = document.getElementById("puzzleArea");
    const progress = document.querySelector(".progress-bar");
    progress.style.width = ((index)/puzzles.length * 100) + "%";

    div.innerHTML = `
        <h2>RÃ¤tsel ${index+1} von ${puzzles.length}</h2>
        <p>${p.q}</p>
        <div id="options"></div>
        <div id="feedback"></div>
    `;

    if (p.type === "mc") {
        p.options.forEach(opt => {
            const btn = document.createElement("button");
            btn.textContent = opt;
            btn.onclick = () => checkAnswer(opt);
            document.getElementById("options").appendChild(btn);
        });
    } else {
        document.getElementById("options").innerHTML = `<input id="answerInput" placeholder="Antwort..."><button onclick="submitText()">Absenden</button>`;
    }
}

function submitText() {
    const val = document.getElementById("answerInput").value.trim();
    checkAnswer(val);
}

function checkAnswer(given) {
    const correct = puzzles[index].a.toLowerCase();
    const fb = document.getElementById("feedback");

    if (given.toLowerCase() === correct) {
        fb.className = "feedback correct";
        fb.textContent = "Richtig! ðŸŽ‰ðŸ’œ";
        setTimeout(() => {
            index++;
            if (index >= puzzles.length) finish();
            else renderPuzzle();
        }, 1000);
    } else {
        fb.className = "feedback wrong";
        fb.textContent = "Leider falsch! Versuch es nochmal ðŸ’œ";
    }
}

function finish() {
    document.getElementById("puzzleArea").classList.add("hidden");
    document.getElementById("finalArea").classList.remove("hidden");
    document.querySelector(".progress-bar").style.width = "100%";
    launchConfetti();
}

// Confetti (noch ein bisschen schÃ¶ner gemacht)
function launchConfetti() {
    const canvas = document.getElementById('confetti-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const pieces = Array.from({length: 250}, () => ({
        x: Math.random() * canvas.width,
        y: -20,
        w: 8 + Math.random() * 10,
        h: 12 + Math.random() * 12,
        speed: 4 + Math.random() * 6,
        rot: Math.random() * 360,
        rotSpeed: Math.random() * 15 - 7.5,
        color: ['#ff6bff','#c07bff','#8a37ff','#d14bff','#ff9ef8'][Math.floor(Math.random()*5)]
    }));

    function update() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        pieces.forEach(p => {
            p.y += p.speed;
            p.rot += p.rotSpeed;
            if (p.y > canvas.height) p.y = -30;

            ctx.save();
            ctx.translate(p.x + p.w/2, p.y + p.h/2);
            ctx.rotate(p.rot * Math.PI / 180);
            ctx.fillStyle = p.color;
            ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
            ctx.restore();
        });
        requestAnimationFrame(update);
    }
    update();
}
</script>
</body>
</html>